---
phase: 02-site-integration
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - .vitepress/theme/index.ts
  - resume.md
autonomous: false

must_haves:
  truths:
    - "CollapsibleResumeItem is globally available in the VitePress theme"
    - "Profile section on the resume page renders as a collapsible card instead of a static ResumeItem"
    - "Skills section on the resume page renders as a collapsible card instead of a static ResumeItem"
  artifacts:
    - path: ".vitepress/theme/index.ts"
      provides: "Global registration of CollapsibleResumeItem"
      contains: "app.component('CollapsibleResumeItem'"
    - path: "resume.md"
      provides: "Collapsible Profile and Skills sections"
      contains: "CollapsibleResumeItem"
  key_links:
    - from: ".vitepress/theme/index.ts"
      to: ".vitepress/components/CollapsibleResumeItem.vue"
      via: "import and app.component() registration"
      pattern: "import CollapsibleResumeItem.*CollapsibleResumeItem\\.vue"
    - from: "resume.md"
      to: ".vitepress/theme/index.ts"
      via: "global component resolution"
      pattern: "<CollapsibleResumeItem"
---

<objective>
Register CollapsibleResumeItem globally in the VitePress theme and replace the static Profile and Skills sections in resume.md with collapsible versions.

Purpose: Make the live resume page scannable — Profile and Skills start collapsed with a one-line preview, readers expand only what interests them.
Output: Two modified files — theme registration and resume page integration.
</objective>

<execution_context>
@/Users/michael.wurster/.config/opencode/get-shit-done/workflows/execute-plan.md
@/Users/michael.wurster/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-collapsible-component/01-01-SUMMARY.md
@.vitepress/theme/index.ts
@.vitepress/components/CollapsibleResumeItem.vue
@resume.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Register CollapsibleResumeItem globally and integrate into resume page</name>
  <files>.vitepress/theme/index.ts, resume.md</files>
  <action>
  **In `.vitepress/theme/index.ts`:**

  1. Add an import for CollapsibleResumeItem, following the existing pattern with `// @ts-ignore`:
     ```
     // @ts-ignore
     import CollapsibleResumeItem from "../components/CollapsibleResumeItem.vue";
     ```
     Place it after the existing ResumeSection import (line 11).

  2. Register it globally in the `enhanceApp` function, after the existing `app.component` calls:
     ```
     app.component('CollapsibleResumeItem', CollapsibleResumeItem)
     ```

  **In `resume.md`:**

  3. Replace the Profile section's static ResumeItem (line 138):
     - Change: `<ResumeItem :description="profile"/>`
     - To: `<CollapsibleResumeItem title="Profile" :description="profile"/>`

  4. Replace the Skills section's static ResumeItem (line 142):
     - Change: `<ResumeItem :description="skills"/>`
     - To: `<CollapsibleResumeItem title="Skills" :description="skills"/>`

  **Do NOT** change the Experience or Education sections — those use ResumeSection (multi-item lists) and are out of scope.

  **Verify the build passes:** Run `npm run docs:build` to confirm no errors.
  </action>
  <verify>
  - `npm run docs:build` completes with exit code 0
  - `grep -c "CollapsibleResumeItem" .vitepress/theme/index.ts` returns 2 (import + registration)
  - `grep -c "CollapsibleResumeItem" resume.md` returns 2 (Profile + Skills)
  - `grep -c '<ResumeItem :description="profile"' resume.md` returns 0 (old usage removed)
  - `grep -c '<ResumeItem :description="skills"' resume.md` returns 0 (old usage removed)
  </verify>
  <done>
  - CollapsibleResumeItem imported and registered in theme/index.ts
  - Profile section uses CollapsibleResumeItem with title="Profile"
  - Skills section uses CollapsibleResumeItem with title="Skills"
  - VitePress build passes without errors
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Verify collapsible Profile and Skills on live dev server</name>
  <what-built>
  CollapsibleResumeItem is now globally registered and used for the Profile and Skills sections on the resume page. Both sections should start collapsed with a one-line preview and gradient fade, expanding on click with a rotating chevron.
  </what-built>
  <how-to-verify>
  1. Run `npm run docs:dev` (if not already running)
  2. Visit http://localhost:5173/resume
  3. Verify Profile section:
     - Shows "Profile" header with a subtle chevron on the right
     - Starts collapsed with ~one line of text and a gradient fade
     - Click header → content expands smoothly, chevron rotates down
     - Click again → content collapses back
  4. Verify Skills section:
     - Same behavior as Profile: collapsed by default, expands/collapses on click
  5. Verify Experience and Education sections are unchanged (still static ResumeSection lists)
  6. Verify no visual regressions on the rest of the page
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues</resume-signal>
</task>

</tasks>

<verification>
- `npm run docs:build` passes
- CollapsibleResumeItem registered in theme (import + app.component)
- resume.md uses CollapsibleResumeItem for Profile and Skills only
- Experience and Education sections untouched
- Visual verification confirms collapsible behavior on live dev server
</verification>

<success_criteria>
- CollapsibleResumeItem is globally available in VitePress theme
- Profile section on resume page renders as a collapsible card
- Skills section on resume page renders as a collapsible card
- All three INTG requirements (INTG-01, INTG-02, INTG-03) satisfied
- VitePress build passes
</success_criteria>

<output>
After completion, create `.planning/phases/02-site-integration/02-01-SUMMARY.md`
</output>
